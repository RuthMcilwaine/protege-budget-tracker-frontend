(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports=a(301)},136:function(e,t,a){},137:function(e,t,a){},156:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(120),l=a.n(o),c=(a(136),a(31)),s=a.n(c),i=a(45),m=a(6),u=a(7),p=a(9),d=a(8),h=a(10),g=(a(137),a(12)),E=a(25),f=a(302),b=a(303),v=a(304),N=a(305),C=a(306),k=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{className:"block-example border-bottom border-grey"},r.a.createElement(b.a,{href:"#"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/MYOB_Logo.png/100px-MYOB_Logo.png"})),r.a.createElement(v.a,null,r.a.createElement(N.a,null),r.a.createElement(N.a,null,r.a.createElement(C.a,{href:"/",style:{color:"#8241AA"}},r.a.createElement("b",null,"Home"))),r.a.createElement(N.a,null,r.a.createElement(C.a,{href:"/add",style:{color:"#8241AA"}},r.a.createElement("b",null,"Add Protege")))))}}]),t}(r.a.Component),w=a(65),y=a.n(w),x=a(122),j=a(123),O=a(124),D=a(129),M=a(125),S=a(130),P=a(20),I=a.n(P),A=(a(156),a(23)),U=a(14),_=a(307),$=a(308),B=a(309),F=a(310),q=(a(159),function(e){return e.reduce(function(e,t){return e+t.expenditure},0)}),J=function(e){var t=e.protege,a=t.protege,n=t.items;return r.a.createElement(B.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,null,r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",a.protegename),r.a.createElement("p",null,r.a.createElement("b",null,"Email:")," ",a.protegeemail)),r.a.createElement("p",null,function(e){return r.a.createElement(_.a,{sm:"12",md:{size:10,offset:1}},r.a.createElement($.a,{bordered:!0,hover:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",{align:"center"},r.a.createElement("th",null,"Purchased Item"),r.a.createElement("th",null,"Expenditure"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.description," "),r.a.createElement("td",{align:"right"}," $ ",e.expenditure),r.a.createElement("td",{align:"center"},r.a.createElement(g.b,{to:{pathname:"/edit",state:{item:e}}},r.a.createElement("button",{className:"button1"},r.a.createElement(A.a,{icon:U.b,"background-color":"purple"})))," \xa0\xa0\xa0",r.a.createElement(g.b,{to:{pathname:"/delete",state:{item:e}}},r.a.createElement("button",{className:"button1"},r.a.createElement(A.a,{icon:U.d}))))))}),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"},r.a.createElement("b",null,"Total:"),"\xa0\xa0\xa0 $ ",q(e))),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",{align:"right"},r.a.createElement("b",null,"Balance:"),"\xa0\xa0\xa0 $ ",1e3-q(e))))))}(n)),function(e,t){return q(t)>=1e3?r.a.createElement("p",null,"Protege has reached their limit"):r.a.createElement("p",null,r.a.createElement(g.b,{to:{pathname:"/create/".concat(e._id)}},r.a.createElement("button",{className:"button1"},"Add Item ",r.a.createElement(A.a,{icon:U.c}))))}(a,n),r.a.createElement(F.a,null,r.a.createElement(_.a,null,r.a.createElement(g.b,{to:{pathname:"/"}},r.a.createElement("button",{className:"button1"},r.a.createElement(A.a,{icon:U.a})," Back"))," \xa0\xa0\xa0"),r.a.createElement(_.a,{xs:"6",align:"center"},r.a.createElement(g.b,{to:{pathname:"/editprotege/".concat(a._id)}},r.a.createElement("button",{className:"button1"},"Edit Protege ",r.a.createElement(A.a,{icon:U.e})))," \xa0\xa0\xa0",r.a.createElement("button",{className:"button2",type:"submit",onClick:function(e){window.confirm("Are you sure you want to delete protege")&&function(e,t,a){if(e.preventDefault(),console.log(t),console.log(a),0!==a.length)return window.alert("Please delete all items before you delete the protege");I.a.delete("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t._id)).then(function(e){console.log(e),200===e.status&&(window.location="/")})}(e,a,n)}},"Delete Protege ",r.a.createElement(A.a,{icon:U.d})))))},L=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={protege:null},a}return Object(S.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(y.a.mark(function e(){var t,a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,a="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({protege:r});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.protege;return e?r.a.createElement(J,{protege:e}):null}}]),t}(r.a.Component),R=a(30),W=(a(35),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegeId:a.props.match.params.id,description:"",date:new Date,errorMessages:[]},a.handleCancel=function(e){window.location="/proteges/".concat(a.props.match.params.id)},a.onChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={protegeId:a.state.protegeId,description:a.state.description,expenditure:a.state.expenditure,date:a.state.date};console.log(t),I.a.post("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/add"),t).then(function(e){console.log(e.data),window.location="/proteges/".concat(a.props.match.params.id)}).catch(function(e){a.setState({errorMessages:e.response.data.messages})})},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.errorMessages;return console.log(e),r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-item"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h3",{className:"form-header"},r.a.createElement("b",null,"Register a purchase"))),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Description "),r.a.createElement("input",{type:"text",id:"description",className:"form-control",value:this.state.description,onChange:this.onChange,placeholder:"description of purchase"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Expenditure "),r.a.createElement("div",{class:"input-icon"},r.a.createElement("input",{type:"number",id:"expenditure",className:"form-control",value:this.state.expenditure,onChange:this.onChange,placeholder:"price"}),r.a.createElement("i",null,"$"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Save"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e)))))}}]),t}(n.Component)),Y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={description:"",expenditure:"",adding:!0,errorMessages:[]},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.location.state.item.protege_id)},a.onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeExpenditure=function(e){a.setState({expenditure:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={description:a.state.description,expenditure:a.state.expenditure,itemId:a.state.itemId,protegeId:a.state.protegeId};console.log("edit"),console.log(t),I.a.patch("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/update/").concat(t.itemId),t).then(function(e){console.log(e.data),window.location="/proteges/".concat(a.props.location.state.item.protege_id)}).catch(function(e){a.setState({errorMessages:e.response.data.messages})})},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({description:this.props.location.state.item.description,expenditure:this.props.location.state.item.expenditure,itemId:this.props.location.state.item._id,protegeId:this.props.location.state.item.protege_id}),console.log(this.props.location.state.item)}},{key:"render",value:function(){var e=this.state.errorMessages;return!0===this.state.adding?r.a.createElement("div",null,r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-item"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h3",{className:"form-header"},r.a.createElement("b",null,"Edit a purchase"))),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Description "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Expenditure "),r.a.createElement("div",{class:"input-icon"},r.a.createElement("input",{type:"number",required:!0,className:"form-control",value:this.state.expenditure,onChange:this.onChangeExpenditure,placeholder:"price"}),r.a.createElement("i",null,"$"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Update"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e)))))):r.a.createElement(E.a,{to:"/"})}}]),t}(n.Component),z=(a(297),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={description:"",expenditure:"",adding:!0},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.location.state.item.protege_id)},a.handleClick=function(e){e.preventDefault();var t={description:a.state.description,expenditure:a.state.expenditure,itemId:a.state.itemId,protegeId:a.state.protegeId};console.log("edit"),console.log(t),I.a.delete("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/").concat(t.itemId),{data:t}).then(function(e){window.location="/proteges/".concat(a.state.protegeId)})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({description:this.props.location.state.item.description,expenditure:this.props.location.state.item.expenditure,itemId:this.props.location.state.item._id,protegeId:this.props.location.state.item.protege_id}),console.log(this.props.location.state.item)}},{key:"render",value:function(){return!0===this.state.adding?r.a.createElement("div",{className:"delete"},r.a.createElement("h3",null," Are you sure you want to delete?"),r.a.createElement("div",{className:"delete-button"},r.a.createElement("button",{className:"button2",onClick:this.handleClick},"Delete"),r.a.createElement("button",{className:"button1",onClick:this.handleCancel},"Cancel"))):r.a.createElement(E.a,{to:"/"})}}]),t}(n.Component)),H=function(e){return e.reduce(function(e,t){return e+t.expenditure},0)},T=function(e){return function(e){return r.a.createElement(B.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement($.a,{bordered:!0,hover:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",{align:"center"},r.a.createElement("th",null,"Protege Name"),r.a.createElement("th",null,"ProtegeEmail"),r.a.createElement("th",null,"Expenditure"),r.a.createElement("th",null,"Balance"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.protege.protegename),r.a.createElement("td",null,e.protege.protegeemail),r.a.createElement("td",{align:"right"}," $ ",H(e.items)),r.a.createElement("td",{align:"right"}," $ ",1e3-H(e.items)),r.a.createElement("td",{align:"center"},r.a.createElement(g.b,{to:"/proteges/"+e.protege._id},r.a.createElement("button",{className:"button1"},r.a.createElement(A.a,{icon:U.b,"background-color":"purple"})))))}))))}(e.proteges)},G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegename:"",protegeemail:"",expenditure:"",balance:1e3,addingUser:!0},a.handleClick=function(e){e.preventDefault();var t={protegename:a.state.protegename,protegeemail:a.state.protegeemail,expenditure:a.state.expenditure,balance:a.state.balance};a.props.addProtege(t)},a.handleCancel=function(e){e.preventDefault(),window.location="/"},a.handleChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.errorMessages;return console.log(e),this.props.addingUser?r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-protege"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h3",{className:"form-header"},r.a.createElement("b",null,"Register a protege"))),r.a.createElement("form",{className:"form",onSubmit:this.handleClick},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"protegename"},"Protege name"),r.a.createElement("input",{className:"form-control",onChange:this.handleChange,type:"text",required:!0,id:"protegename",placeholder:"protege name",value:this.state.protegename})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"protegeemail"},"Email"),r.a.createElement("input",{className:"form-control",onChange:this.handleChange,type:"text",required:!0,id:"protegeemail",placeholder:"email",value:this.state.protegeemail})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Save"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("p",{className:"error-message"},this.displayErrors(e)," "))):r.a.createElement(E.a,{to:"/"})}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegename:"",protegeemail:"",editing:!0,filledForm:!1},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.match.params.id)},a.onChange=function(e){a.setState(Object(R.a)({},e.target.id,e.target.value))},a.handleClick=function(e){e.preventDefault(),a.props.updateProtege(a.state.protegename,a.state.protegeemail,a.props.match.params.id)},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,console.log(t),a="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t),e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,console.log(r),this.setState({formFilled:!0,protegename:r.protege.protegename,protegeemail:r.protege.protegeemail});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.errorMessages,t=this.state.formFilled;return console.log(this.props),t?this.props.updatingDone?r.a.createElement(E.a,{to:{pathname:"/proteges/".concat(this.props.match.params.id)}}):r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-protege"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h3",{className:"form-header"},r.a.createElement("b",null,"Edit protege details"))),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Protege name "),r.a.createElement("input",{type:"text",required:!0,id:"protegename",className:"form-control",value:this.state.protegename,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Email "),r.a.createElement("input",{type:"text",required:!0,id:"protegeemail",className:"form-control",value:this.state.protegeemail,onChange:this.onChange})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Update"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e))))):null}}]),t}(n.Component),Q=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.proteges;return r.a.createElement(g.a,null,r.a.createElement(k,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/proteges/:id",component:L}),r.a.createElement(E.b,{path:"/add",render:function(){return r.a.createElement(G,{addProtege:e.props.addProtege,addingUser:e.props.addingUser,errorMessages:e.props.errorMessages})}}),r.a.createElement(E.b,{path:"/editprotege/:id",render:function(t){return r.a.createElement(K,Object.assign({updateProtege:e.props.updateProtege,updatingDone:e.props.updatingDone,errorMessages:e.props.errorMessages},t))}}),r.a.createElement(E.b,{path:"/create/:id",component:W}),r.a.createElement(E.b,{path:"/edit/",component:Y}),r.a.createElement(E.b,{path:"/delete/",component:z}),r.a.createElement(E.b,{exact:!0,path:"/",render:function(){return r.a.createElement(T,{proteges:t})}})))}}]),t}(r.a.Component),V=(a(298),r.a.Component,function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={addingUser:!0,updatingDone:null,errorMessages:[],homeClick:!1},a.updateProtege=function(e,t,n){var r={protegename:e,protegeemail:t};I.a.patch("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/update/").concat(n),r).then(function(e){console.log(e),a.setState({updatingDone:!0,proteges:e.data.proteges}),a.clearErrorMessages()}).catch(function(e){a.errorMessages(e)})},a.addProtege=function(e){var t={protegename:e.protegename,protegeemail:e.protegeemail,expenditure:e.expenditure,balance:e.balance};I.a.post("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/add"),t).then(function(e){var t,n=a.state.proteges,r={items:[],protege:e.data};(t=n).push(r),a.setState({proteges:t,addingUser:!1}),a.clearErrorMessages()}).catch(function(e){a.errorMessages(e)})},a.errorMessages=function(e){a.setState({errorMessages:e.response.data.messages})},a.clearErrorMessages=function(){a.setState({errorMessages:[]})},a.homeClickFunction=function(){a.setState({homeClick:!0})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("production"),t="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges"),e.next=4,fetch(t);case 4:return a=e.sent,console.log(a),e.next=8,a.json();case 8:n=e.sent,this.setState({proteges:n,addingUser:!0});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t.addingUser!==this.state.addingUser&&this.setState({addingUser:!0}),t.updatingDone!==this.state.updatingDone&&this.setState({updatingDone:!1})}},{key:"render",value:function(){var e=this.state,t=e.proteges,a=e.addingUser;e.homeClick;return t?r.a.createElement(Q,{proteges:t,errorMessages:this.state.errorMessages,addProtege:this.addProtege,addingUser:a,updateProtege:this.updateProtege,updatingDone:this.state.updatingDone}):null}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(299),a(300);l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.c91b36dc.chunk.js.map