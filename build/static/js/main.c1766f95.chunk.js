(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},54:function(e,t,a){e.exports=a(89)},59:function(e,t,a){},60:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),c=a.n(o),l=(a(59),a(22)),s=a.n(l),i=a(24),m=a(5),p=a(6),u=a(8),d=a(7),h=a(9),g=(a(60),a(25)),E=a(26),f=a(29),b=a(28),v=a(30),N=a(11),k=a(18),C=a(90),w=a(91),y=a(92),j=a(93),O=a(94),x=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{className:"block-example border-bottom border-grey"},r.a.createElement(w.a,{href:"#"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/MYOB_Logo.png/100px-MYOB_Logo.png"})),r.a.createElement(y.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,{href:"/",style:{color:"#8241AA"}},r.a.createElement("b",null,"Home"))),r.a.createElement(j.a,null,r.a.createElement(O.a,{href:"/add",style:{color:"#8241AA"}},r.a.createElement("b",null,"Add Protege")))))}}]),t}(r.a.Component),D=a(32),M=a.n(D),S=a(50),I=a(16),P=a.n(I),A=(a(79),a(80),a(20)),U=a(17),_=function(e){return e.reduce(function(e,t){return e+t.expenditure},0)},F=function(e){var t=e.protege,a=t.protege,n=t.items;return r.a.createElement("div",{className:"list1"},r.a.createElement("p",null,"Name: ",a.protegename),r.a.createElement("p",null,"Email: ",a.protegeemail),r.a.createElement("p",null,"Items purchased: ",function(e){return e.map(function(e,t){return r.a.createElement("div",{className:"List"},r.a.createElement("div",{key:t},r.a.createElement("ul",null,r.a.createElement("li",null,e.description," | $ ",e.expenditure),r.a.createElement(N.b,{to:{pathname:"/edit",state:{item:e}}},r.a.createElement("button",{className:"button1"},"Edit Item ",r.a.createElement(A.a,{icon:U.b,"background-color":"purple"}))),r.a.createElement(N.b,{to:{pathname:"/delete",state:{item:e}}},r.a.createElement("button",{className:"button1"},"Delete Item ",r.a.createElement(A.a,{icon:U.d}))))))})}(n)),r.a.createElement("p",null,"Total spent: ",_(n)),r.a.createElement("p",null,"Balance: ",1e3-_(n)),function(e,t){return _(t)>=1e3?r.a.createElement("p",null,"Protege has reached their limit"):r.a.createElement("p",null,r.a.createElement(N.b,{to:{pathname:"/create/".concat(e._id)}},r.a.createElement("button",{className:"button1"},"Add Item ",r.a.createElement(A.a,{icon:U.c}))))}(a,n),r.a.createElement(N.b,{to:{pathname:"/"}},r.a.createElement("button",{className:"button1"},r.a.createElement(A.a,{icon:U.a})," Back")),r.a.createElement(N.b,{to:{pathname:"/editprotege/".concat(a._id)}},r.a.createElement("button",{className:"button1"},"Edit protege details ",r.a.createElement(A.a,{icon:U.e}))),r.a.createElement("button",{className:"button1",type:"submit",onClick:function(e){window.confirm("Are you sure you want to delete protege")&&function(e,t,a){if(e.preventDefault(),console.log(t),console.log(a),0!==a.length)return window.alert("Please delete all items before you delete the protege");P.a.delete("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t._id)).then(function(e){console.log(e),200===e.status&&(window.location="/")})}(e,a,n)}},"Delete Protege ",r.a.createElement(A.a,{icon:U.d})))},B=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={protege:null},a}return Object(v.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(M.a.mark(function e(){var t,a,n,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,a="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,this.setState({protege:r});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.protege;return e?r.a.createElement(F,{protege:e}):null}}]),t}(r.a.Component),q=a(21),H=(a(23),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegeId:a.props.match.params.id,description:"",date:new Date,errorMessages:[]},a.handleCancel=function(e){window.location="/proteges/".concat(a.props.match.params.id)},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={protegeId:a.state.protegeId,description:a.state.description,expenditure:a.state.expenditure,date:a.state.date};console.log(t),P.a.post("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/add"),t).then(function(e){console.log(e.data),window.location="/proteges/".concat(a.props.match.params.id)}).catch(function(e){a.setState({errorMessages:e.response.data.messages})})},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.errorMessages;return console.log(e),r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-item"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h2",{className:"form-header"},"Register a purchase")),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Description "),r.a.createElement("input",{type:"text",id:"description",className:"form-control",value:this.state.description,onChange:this.onChange,placeholder:"description of purchase"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Expenditure "),r.a.createElement("div",{class:"input-icon"},r.a.createElement("input",{type:"number",id:"expenditure",className:"form-control",value:this.state.expenditure,onChange:this.onChange,placeholder:"price"}),r.a.createElement("i",null,"$"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Save"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e)))))}}]),t}(n.Component)),$=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={description:"",expenditure:"",adding:!0,errorMessages:[]},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.location.state.item.protege_id)},a.onChangeDescription=function(e){a.setState({description:e.target.value})},a.onChangeExpenditure=function(e){a.setState({expenditure:e.target.value})},a.handleClick=function(e){e.preventDefault();var t={description:a.state.description,expenditure:a.state.expenditure,itemId:a.state.itemId,protegeId:a.state.protegeId};console.log("edit"),console.log(t),P.a.patch("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/update/").concat(t.itemId),t).then(function(e){console.log(e.data),window.location="/proteges/".concat(a.props.location.state.item.protege_id)}).catch(function(e){a.setState({errorMessages:e.response.data.messages})})},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({description:this.props.location.state.item.description,expenditure:this.props.location.state.item.expenditure,itemId:this.props.location.state.item._id,protegeId:this.props.location.state.item.protege_id}),console.log(this.props.location.state.item)}},{key:"render",value:function(){var e=this.state.errorMessages;return!0===this.state.adding?r.a.createElement("div",null,r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-item"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h2",{className:"form-header"},"Edit a purchase")),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Description "),r.a.createElement("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Expenditure "),r.a.createElement("div",{class:"input-icon"},r.a.createElement("input",{type:"number",required:!0,className:"form-control",value:this.state.expenditure,onChange:this.onChangeExpenditure,placeholder:"price"}),r.a.createElement("i",null,"$"))),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Update"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e)))))):r.a.createElement(k.a,{to:"/"})}}]),t}(n.Component),L=(a(85),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={description:"",expenditure:"",adding:!0},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.location.state.item.protege_id)},a.handleClick=function(e){e.preventDefault();var t={description:a.state.description,expenditure:a.state.expenditure,itemId:a.state.itemId,protegeId:a.state.protegeId};console.log("edit"),console.log(t),P.a.delete("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/items/").concat(t.itemId),{data:t}).then(function(e){window.location="/proteges/".concat(a.state.protegeId)})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({description:this.props.location.state.item.description,expenditure:this.props.location.state.item.expenditure,itemId:this.props.location.state.item._id,protegeId:this.props.location.state.item.protege_id}),console.log(this.props.location.state.item)}},{key:"render",value:function(){return!0===this.state.adding?r.a.createElement("div",{className:"delete"},r.a.createElement("h3",null," Are you sure you want to delete?"),r.a.createElement("div",{className:"delete-button"},r.a.createElement("button",{className:"button2",onClick:this.handleClick},"Delete"),r.a.createElement("button",{className:"button1",onClick:this.handleCancel},"Cancel"))):r.a.createElement(k.a,{to:"/"})}}]),t}(n.Component)),T=a(95),W=a(96),Y=function(e){return e.reduce(function(e,t){return e+t.expenditure},0)},J=function(e){return function(e){return r.a.createElement(T.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(W.a,{bordered:!0,hover:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Protege Name"),r.a.createElement("th",null,"ProtegeEmail"),r.a.createElement("th",null,"Expenditure"),r.a.createElement("th",null,"Balance"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,e.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e.protege.protegename),r.a.createElement("td",null,e.protege.protegeemail),r.a.createElement("td",null,Y(e.items)),r.a.createElement("td",null,1e3-Y(e.items)),r.a.createElement("td",null,r.a.createElement(N.b,{to:"/proteges/"+e.protege._id},r.a.createElement("button",{className:"button1"},"Edit"))))}))))}(e.proteges)},R=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegename:"",protegeemail:"",expenditure:"",balance:1e3,addingUser:!0},a.handleClick=function(e){e.preventDefault();var t={protegename:a.state.protegename,protegeemail:a.state.protegeemail,expenditure:a.state.expenditure,balance:a.state.balance};a.props.addProtege(t)},a.handleCancel=function(e){e.preventDefault(),window.location="/"},a.handleChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.errorMessages;return console.log(e),this.props.addingUser?r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-protege"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h2",{className:"form-header"},"Register a protege")),r.a.createElement("form",{className:"form",onSubmit:this.handleClick},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"protegename"},"Protege name"),r.a.createElement("input",{className:"form-control",onChange:this.handleChange,type:"text",required:!0,id:"protegename",placeholder:"protege name",value:this.state.protegename})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label",htmlFor:"protegeemail"},"Email"),r.a.createElement("input",{className:"form-control",onChange:this.handleChange,type:"text",required:!0,id:"protegeemail",placeholder:"email",value:this.state.protegeemail})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Save"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("p",{className:"error-message"},this.displayErrors(e)," "))):r.a.createElement(k.a,{to:"/"})}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={protegename:"",protegeemail:"",editing:!0,filledForm:!1},a.handleCancel=function(e){e.preventDefault(),window.location="/proteges/".concat(a.props.match.params.id)},a.onChange=function(e){a.setState(Object(q.a)({},e.target.id,e.target.value))},a.handleClick=function(e){e.preventDefault(),a.props.updateProtege(a.state.protegename,a.state.protegeemail,a.props.match.params.id)},a.displayErrors=function(e){return e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e))})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,console.log(t),a="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/").concat(t),e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,console.log(r),this.setState({formFilled:!0,protegename:r.protege.protegename,protegeemail:r.protege.protegeemail});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.errorMessages,t=this.state.formFilled;return console.log(this.props),t?this.props.updatingDone?r.a.createElement(k.a,{to:{pathname:"/proteges/".concat(this.props.match.params.id)}}):r.a.createElement("div",{className:"form-box"},r.a.createElement("div",{className:"form-container-protege"},r.a.createElement("div",{className:"form-header-box"},r.a.createElement("h2",{className:"form-header"},"Edit protege details")),r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Protege name "),r.a.createElement("input",{type:"text",required:!0,id:"protegename",className:"form-control",value:this.state.protegename,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"label"},"Email "),r.a.createElement("input",{type:"text",required:!0,id:"protegeemail",className:"form-control",value:this.state.protegeemail,onChange:this.onChange})),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"purple-button-form",onClick:this.handleClick},"Update"),r.a.createElement("button",{className:"pink-button-form",onClick:this.handleCancel},"Cancel"))),r.a.createElement("div",null,r.a.createElement("p",{className:"error-message"},this.displayErrors(e))))):null}}]),t}(n.Component),z=function(e){function t(){return Object(g.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.proteges;return r.a.createElement(N.a,null,r.a.createElement(x,null),r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/proteges/:id",component:B}),r.a.createElement(k.b,{path:"/add",render:function(){return r.a.createElement(R,{addProtege:e.props.addProtege,addingUser:e.props.addingUser,errorMessages:e.props.errorMessages})}}),r.a.createElement(k.b,{path:"/editprotege/:id",render:function(t){return r.a.createElement(G,Object.assign({updateProtege:e.props.updateProtege,updatingDone:e.props.updatingDone,errorMessages:e.props.errorMessages},t))}}),r.a.createElement(k.b,{path:"/create/:id",component:H}),r.a.createElement(k.b,{path:"/edit/",component:$}),r.a.createElement(k.b,{path:"/delete/",component:L}),r.a.createElement(k.b,{exact:!0,path:"/",render:function(){return r.a.createElement(J,{proteges:t})}})))}}]),t}(r.a.Component),K=(a(86),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log(a.props),a.props.homeClickFunction()},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"containerHome"},r.a.createElement("div",{className:"containerTextHome"},r.a.createElement("h2",null,"Welcome to the protege budget tracker"),r.a.createElement("p",null),r.a.createElement("p",null,"Track each MYOB protege's learning and development spend."),r.a.createElement("p",null),r.a.createElement("button",{className:"buttonHome",onClick:this.handleClick},"Get started")))}}]),t}(r.a.Component)),Q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={addingUser:!0,updatingDone:null,errorMessages:[],homeClick:!1},a.updateProtege=function(e,t,n){var r={protegename:e,protegeemail:t};P.a.patch("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/update/").concat(n),r).then(function(e){console.log(e),a.setState({updatingDone:!0,proteges:e.data.proteges}),a.clearErrorMessages()}).catch(function(e){a.errorMessages(e)})},a.addProtege=function(e){var t={protegename:e.protegename,protegeemail:e.protegeemail,expenditure:e.expenditure,balance:e.balance};P.a.post("".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges/add"),t).then(function(e){var t,n=a.state.proteges,r={items:[],protege:e.data};(t=n).push(r),a.setState({proteges:t,addingUser:!1}),a.clearErrorMessages()}).catch(function(e){a.errorMessages(e)})},a.errorMessages=function(e){a.setState({errorMessages:e.response.data.messages})},a.clearErrorMessages=function(){a.setState({errorMessages:[]})},a.homeClickFunction=function(){a.setState({homeClick:!0})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("production"),t="".concat("https://protege-budget-tracker.ruthmcilwaine.now.sh","/proteges"),e.next=4,fetch(t);case 4:return a=e.sent,console.log(a),e.next=8,a.json();case 8:n=e.sent,this.setState({proteges:n,addingUser:!0});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){t.addingUser!==this.state.addingUser&&this.setState({addingUser:!0}),t.updatingDone!==this.state.updatingDone&&this.setState({updatingDone:!1})}},{key:"render",value:function(){var e=this.state,t=e.proteges,a=e.addingUser,n=e.homeClick;return t?!1===n?r.a.createElement(K,{homeClickFunction:this.homeClickFunction}):r.a.createElement(z,{proteges:t,errorMessages:this.state.errorMessages,addProtege:this.addProtege,addingUser:a,updateProtege:this.updateProtege,updatingDone:this.state.updatingDone}):null}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(87),a(88);c.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,1,2]]]);
//# sourceMappingURL=main.c1766f95.chunk.js.map